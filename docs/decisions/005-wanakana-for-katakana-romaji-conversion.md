# ADR-005: wanakanaライブラリによるカタカナ→ローマ字変換

## 状況

日本語検索で「サバ」「イワシ」「タイ」などの基本的な魚名が検索できない問題が発生している。

- データベース内の日本語魚名がローマ字表記で保存されている（例：「Saba」「Iwashi」「Tai」）
- ユーザーはカタカナで検索する（例：「サバ」「イワシ」「タイ」）
- カタカナ入力とローマ字データがマッチしない

### データベースのローマ字表記分析
- **方式**: 修正ヘボン式（Revised Hepburn）の変種
- **長音記号**: サーカムフレックス使用（`ô`、`û`）
- **例**: `Aburabôzu`、`Ajia-koshôdai`、`Akafuji-tenjikudai`

## 決定

**wanakanaライブラリ**を採用してカタカナ→ローマ字変換機能を実装する。

## 代替案

| ライブラリ | サイズ | 更新状況 | 特徴 | TypeScript対応 |
|------------|--------|----------|------|----------------|
| **wanakana** | ~30-50KB | 活発 | シンプル、人気、多機能 | ✓ |
| **hepburn** | 31.5KB | 比較的新しい | Hepburn式特化、軽量 | 要確認 |
| **kuroshiro** | 296KB | 4年前 | 高機能、重い | 不明 |
| **@koozaki/romaji-conv** | 44KB | 活発 | 軽量、辞書ベース | 要確認 |

## 根拠

1. **柔軟性**: 標準ヘボン式でない独自の長音表記（`ô`、`û`）にも対応しやすい
2. **人気・安定性**: 広く使用されており、コミュニティサポートが充実
3. **TypeScript対応**: 型定義が提供されている
4. **カスタマイズ性**: 必要に応じて変換ルールを調整可能
5. **軽量**: hepburnと比べて大きな差はなく、機能が豊富